module.exports=function(t){var e={};function r(n){if(e[n])return e[n].exports;var o=e[n]={i:n,l:!1,exports:{}};return t[n].call(o.exports,o,o.exports,r),o.l=!0,o.exports}return r.m=t,r.c=e,r.d=function(t,e,n){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)r.d(n,o,function(e){return t[e]}.bind(null,o));return n},r.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="",r(r.s="fb15")}({1317:function(t,e,r){},"3c67":function(t,e,r){},8875:function(t,e,r){var n,o,i;(function(r,a){o=[],n=a,i="function"===typeof n?n.apply(e,o):n,void 0===i||(t.exports=i)})("undefined"!==typeof self&&self,(function(){function t(){var e=Object.getOwnPropertyDescriptor(document,"currentScript");if(!e&&"currentScript"in document&&document.currentScript)return document.currentScript;if(e&&e.get!==t&&document.currentScript)return document.currentScript;try{throw new Error}catch(p){var r,n,o,i=/.*at [^(]*\((.*):(.+):(.+)\)$/gi,a=/@([^@]*):(\d+):(\d+)\s*$/gi,s=i.exec(p.stack)||a.exec(p.stack),c=s&&s[1]||!1,d=s&&s[2]||!1,l=document.location.href.replace(document.location.hash,""),u=document.getElementsByTagName("script");c===l&&(r=document.documentElement.outerHTML,n=new RegExp("(?:[^\\n]+?\\n){0,"+(d-2)+"}[^<]*<script>([\\d\\D]*?)<\\/script>[\\d\\D]*","i"),o=r.replace(n,"$1").trim());for(var f=0;f<u.length;f++){if("interactive"===u[f].readyState)return u[f];if(u[f].src===c)return u[f];if(c===l&&u[f].innerHTML&&u[f].innerHTML.trim()===o)return u[f]}return null}}return t}))},c41b:function(t,e,r){},d29b:function(t,e,r){"use strict";r("3c67")},dfe1:function(t,e,r){"use strict";r("1317")},fb15:function(t,e,r){"use strict";if(r.r(e),"undefined"!==typeof window){var n=window.document.currentScript,o=r("8875");n=o(),"currentScript"in document||Object.defineProperty(document,"currentScript",{get:o});var i=n&&n.src.match(/(.+\/)[^/]+\.js(\?.*)?$/);i&&(r.p=i[1])}var a=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{ref:"wrap",on:{dragenter:function(t){t.preventDefault()},dragover:function(t){t.preventDefault()}}},[t._t("default")],2)},s=[],c={name:"ZDragWrap",props:{data:{type:Array,default(){return[]}}},created(){this.toDom="",this.fromDom="",this.children=[],this.$on("dragstart",this.onDragstart),this.$on("dragenter",this.onDragenter),this.$on("dragend",this.onDragend),this.$on("putChild",t=>{this.children.push(t)})},methods:{onDragstart(t){this.fromDom=t},onDragenter(t){this.toDom=t,console.log("emter",t),this.fromDom!==this.toDom&&(this.isPrevNode(this.fromDom,this.toDom)?this.$refs.wrap.insertBefore(this.fromDom,this.toDom):this.$refs.wrap.insertBefore(this.fromDom,this.toDom.nextSibling))},onDragend(){if(!this.data.length)return;const t=[...this.$el.children].filter(t=>t.classList.contains("__drag_item"));this.getDataOrder(t,this.children)},getDataOrder(t,e){const r=t.map(t=>e.findIndex(e=>t===e)),n=[];r.forEach((t,e)=>{n[e]=this.data[t]}),this.$emit("watchData",n)},isPrevNode(t,e){while(null!==t.previousSibling){if(t.previousSibling===e)return!0;t=t.previousSibling}}}},d=c;r("dfe1");function l(t,e,r,n,o,i,a,s){var c,d="function"===typeof t?t.options:t;if(e&&(d.render=e,d.staticRenderFns=r,d._compiled=!0),n&&(d.functional=!0),i&&(d._scopeId="data-v-"+i),a?(c=function(t){t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,t||"undefined"===typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),o&&o.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(a)},d._ssrRegister=c):o&&(c=s?function(){o.call(this,(d.functional?this.parent:this).$root.$options.shadowRoot)}:o),c)if(d.functional){d._injectStyles=c;var l=d.render;d.render=function(t,e){return c.call(e),l(t,e)}}else{var u=d.beforeCreate;d.beforeCreate=u?[].concat(u,c):[c]}return{exports:t,options:d}}var u=l(d,a,s,!1,null,"6b6551ee",null),f=u.exports;f.install=t=>t.component(f.name,f);var p=f,h=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"__drag_item",style:{cursor:t.$slots.drag?"":"move"},attrs:{draggable:!t.$slots.drag||t.isDrag},on:{dragstart:function(e){return e.stopPropagation(),t.onDragstart(e)},dragenter:function(e){return e.stopPropagation(),t.onDragenter(e)},dragend:function(e){return e.stopPropagation(),t.onDragend(e)}}},[t._t("drag"),t._t("default")],2)},m=[];function g(t,e,r){this.$children.forEach(n=>{const{name:o}=n.$options;o===t?n.$emit.apply(n,[e].concat(r)):g.apply(n,[t,e].concat([r]))})}var v={methods:{dispatch(t,e,r){let n=this.$parent||this.$root,{name:o}=n.$options;while(n&&(!o||o!==t))n=n.$parent,n&&(o=n.$options.name);n&&n.$emit.apply(n,[e].concat(r))},broadcast(t,e,r){g.call(this,t,e,r)}}},D={name:"ZDragItem",mixins:[v],data(){return{isDrag:!1}},mounted(){this.$slots.drag&&this.setSlotAttr(),this.dispatch("DragWrap","putChild",this.$el)},methods:{onDragstart(){this.$el.style.opacity="0.3",this.dispatch("DragWrap","dragstart",this.$el)},onDragenter(){console.log("dragenter"),this.dispatch("DragWrap","dragenter",this.$el)},onDragend(){this.$el.style.opacity="1",this.dispatch("DragWrap","dragend")},setSlotAttr(){const t=this.$slots.default.find(t=>!t.data&&""!==t.text),e=t.elm.previousSibling;if(null!==e.previousSibling)throw"具名插槽只能有一个根节点";e.addEventListener("mouseenter",()=>{this.isDrag=!0}),e.addEventListener("mouseleave",()=>{this.isDrag=!1}),e.style.cursor="move"}}},y=D,$=(r("d29b"),l(y,h,m,!1,null,"7fe1c0f0",null)),_=$.exports;_.install=t=>t.component(_.name,_);var b=_,w={inserted(t,e){const{src:r,text:n,opacity:o=.3,rotate:i=20,fontSize:a=20,type:s="repeat"}=e.value;t.src=r,t.addEventListener("load",e=>{const r=document.createElement("canvas"),c=r.getContext("2d"),d=document.createElement("canvas"),l=d.getContext("2d"),u=e.target.width,f=e.target.height;r.width=u,r.height=f,d.width=u,d.height=f,l.font=a+"px Arial",l.fillStyle=`rgba(0,0,0,${o})`,l.textBaseLine="middle";const p=l.measureText(n).width+50;if("repeat"===s){l.rotate(-i*Math.PI/180);const t=Math.ceil(u/p)+15,e=Math.ceil(f/p)+15;for(let r=0;r<t;r++)for(let t=0;t<e;t++)l.fillText(n,r*p-Math.min(i,90)-3*p,t*(p/2)-Math.min(i,90)-3*p)}else"left-top"===s?l.fillText(n,30,30+a):"right-top"===s?l.fillText(n,u-30-p,30+a):"right-bottom"===s?l.fillText(n,u-30-p,f-30):"left-bottom"===s&&l.fillText(n,30,f-30);c.clearRect(0,0,u,f),c.drawImage(t,0,0,u,f),c.drawImage(d,0,0,u,f),t.parentNode.appendChild(r),setTimeout(()=>{t.parentNode.removeChild(t)},0)})},install:function(t){t.directive("watermark",w)}},x=w;r("c41b");const S=[b,p],E=t=>{E.installed||(S.map(e=>t.component(e.name,e)),t.use(x))};"undefined"!==typeof window&&window.Vue&&E(window.Vue);var T={install:E,ZDragWrap:p,ZDragItem:b};e["default"]=T}});